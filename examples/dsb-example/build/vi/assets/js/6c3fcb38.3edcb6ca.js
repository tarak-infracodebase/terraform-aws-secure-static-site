"use strict";(self.webpackChunkdevsecblueprint=self.webpackChunkdevsecblueprint||[]).push([[8991],{111:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/jenkins-install-plugins-f37eea26dc2079243f883312da04b90b.png"},549:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/jenkins-configure-gitea-pipeline-98ed6f2fb08c41e165d30c999be3066d.png"},1021:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/gitea-add-webhook-jenkins-53d1ae64eac99372754f79815a45fff5.png"},5417:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/jenkins-config-ssh-username-42c853cb033f213c75fa689ebeba05ec.png"},6042:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/gitea-configure-token-permissions-1948832ac46b72b2c72dcdb83be94787.png"},6263:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/jenkins-manage-plugins-d3a33bd7d8a7c36f5ffb386841b1fb58.png"},6438:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/gitea-manage-access-tokens-6e186bd7eb4edea071bf5c8870fc0a20.png"},6463:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/gitea-config-webhook-e207b71fec6cec4ff1e48d6be5f43308.png"},7549:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/jenkins-dashboard-1403daa83bc75af4ea22cdbae8e9a159.png"},7600:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/jenkins-config-gitea-organization-0e280717b0c21f439f6550af7d82d8b7.png"},8453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>l});var i=s(6540);const r={},t=i.createContext(r);function c(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),i.createElement(t.Provider,{value:n},e.children)}},8466:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"projects/devsecops-home-lab/create-and-configure-pipeline/create-jenkins-piepline","title":"Creating & Configuring Jenkins Pipeline","description":"A step-by-step guide to creating a Jenkins pipeline for OWASP Juice Shop using Gitea, SonarQube, and SSH keys.","source":"@site/docs/projects/devsecops-home-lab/create-and-configure-pipeline/creating-pipeline.md","sourceDirName":"projects/devsecops-home-lab/create-and-configure-pipeline","slug":"/projects/devsecops-home-lab/create-and-configure-pipeline/create-jenkins-piepline","permalink":"/vi/projects/devsecops-home-lab/create-and-configure-pipeline/create-jenkins-piepline","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"id":"create-jenkins-piepline","title":"Creating & Configuring Jenkins Pipeline","description":"A step-by-step guide to creating a Jenkins pipeline for OWASP Juice Shop using Gitea, SonarQube, and SSH keys.","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Setting Up Pipeline and Repository","permalink":"/vi/category/setting-up-pipeline-and-repository"},"next":{"title":"Setting Up Repository And Pipeline","permalink":"/vi/projects/devsecops-home-lab/create-and-configure-pipeline/create-repository-pipeline"}}');var r=s(4848),t=s(8453);const c={id:"create-jenkins-piepline",title:"Creating & Configuring Jenkins Pipeline",description:"A step-by-step guide to creating a Jenkins pipeline for OWASP Juice Shop using Gitea, SonarQube, and SSH keys.",sidebar_position:2},l=void 0,o={},a=[{value:"Step 1: Configure Access Token in Gitea",id:"step-1-configure-access-token-in-gitea",level:2},{value:"Step 2: Install Required Plugins in Jenkins",id:"step-2-install-required-plugins-in-jenkins",level:2},{value:"Step 3: Create Jenkins Pipeline",id:"step-3-create-jenkins-pipeline",level:2},{value:"Step 4: Configure Webhook in Gitea",id:"step-4-configure-webhook-in-gitea",level:2},{value:"Step 5: Configure SSH Keys",id:"step-5-configure-ssh-keys",level:2},{value:"Conclusion",id:"conclusion",level:2}];function d(e){const n={code:"code",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"step-1-configure-access-token-in-gitea",children:"Step 1: Configure Access Token in Gitea"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["In Gitea, click on your user avatar at the top right, then select ",(0,r.jsx)(n.strong,{children:"Settings"})," > ",(0,r.jsx)(n.strong,{children:"Applications"}),"."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Applications",src:s(6438).A+"",width:"1718",height:"708"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Enter a token name (e.g., ",(0,r.jsx)(n.code,{children:"Jenkins"}),"), set it to ",(0,r.jsx)(n.code,{children:"Private"}),", and select all permissions as READ/WRITE. Click ",(0,r.jsx)(n.strong,{children:"Generate Token"}),"."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Generate Token",src:s(6042).A+"",width:"1037",height:"833"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Copy the token and store it in a secure place. This token will be used for Jenkins authentication."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"step-2-install-required-plugins-in-jenkins",children:"Step 2: Install Required Plugins in Jenkins"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Log into Jenkins. From the ",(0,r.jsx)(n.strong,{children:"Dashboard"}),", click ",(0,r.jsx)(n.strong,{children:"Manage Jenkins"})," > ",(0,r.jsx)(n.strong,{children:"Manage Plugins"}),"."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Manage Plugins",src:s(6263).A+"",width:"1526",height:"632"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Under ",(0,r.jsx)(n.strong,{children:"Available Plugins"}),", search for and install the following:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Gitea"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"SonarQube Scanner"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Prometheus Metrics"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Install Plugins",src:s(111).A+"",width:"1849",height:"556"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"step-3-create-jenkins-pipeline",children:"Step 3: Create Jenkins Pipeline"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["From the Jenkins ",(0,r.jsx)(n.strong,{children:"Dashboard"}),", click ",(0,r.jsx)(n.strong,{children:"New Item"}),"."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"New Item",src:s(7549).A+"",width:"660",height:"715"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Select ",(0,r.jsx)(n.strong,{children:"Organization Folder"})," and name it (e.g., ",(0,r.jsx)(n.code,{children:"OWASP Juice Shop Pipeline"}),")."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Organization Folder",src:s(9095).A+"",width:"1100",height:"832"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Scroll down to ",(0,r.jsx)(n.strong,{children:"Repository Sources"})," and select ",(0,r.jsx)(n.strong,{children:"Gitea Organization"}),"."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Repository Sources",src:s(549).A+"",width:"1305",height:"542"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Under ",(0,r.jsx)(n.strong,{children:"Credentials"}),", click ",(0,r.jsx)(n.strong,{children:"Add"}),". Select the organization folder name, set the ",(0,r.jsx)(n.strong,{children:"Kind"})," to ",(0,r.jsx)(n.strong,{children:"Gitea Personal Access Token (PAT)"}),", and paste the token generated from Gitea."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Gitea PAT",src:s(8944).A+"",width:"1561",height:"780"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Set the ",(0,r.jsx)(n.strong,{children:"Owner"})," to your Gitea username, and then click ",(0,r.jsx)(n.strong,{children:"Apply"})," and ",(0,r.jsx)(n.strong,{children:"Save"}),"."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Save Configuration",src:s(7600).A+"",width:"1317",height:"826"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"step-4-configure-webhook-in-gitea",children:"Step 4: Configure Webhook in Gitea"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["In Jenkins, go to ",(0,r.jsx)(n.strong,{children:"Manage Jenkins"})," > ",(0,r.jsx)(n.strong,{children:"Configure System"}),". Scroll down to ",(0,r.jsx)(n.strong,{children:"Gitea Servers"})," and add your Gitea server details."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Gitea Server",src:s(9920).A+"",width:"1713",height:"718"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Discover branches"}),": Only branches filed as PRs or master/main branch."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Discover pull requests from origin"}),": Both the current pull request revision and the pull request merged with the current target branch revision."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Click ",(0,r.jsx)(n.strong,{children:"Apply"})," and ",(0,r.jsx)(n.strong,{children:"Save"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["In Gitea, navigate to the project, click on ",(0,r.jsx)(n.strong,{children:"Settings"})," > ",(0,r.jsx)(n.strong,{children:"Webhooks"}),"."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Webhooks",src:s(6463).A+"",width:"1508",height:"611"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Click ",(0,r.jsx)(n.strong,{children:"Add Webhook"}),", then select ",(0,r.jsx)(n.strong,{children:"Gitea"}),". Fill out the form:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"URL"}),": ",(0,r.jsx)(n.code,{children:"<http://localhost:8080/gitea-webhook/post>"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Method"}),": ",(0,r.jsx)(n.code,{children:"POST"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Content Type"}),": ",(0,r.jsx)(n.code,{children:"application/json"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Branch filter"}),": ",(0,r.jsx)(n.code,{children:"*"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Add Webhook",src:s(1021).A+"",width:"1069",height:"915"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Click ",(0,r.jsx)(n.strong,{children:"Add Webhook"})," to save the configuration."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"step-5-configure-ssh-keys",children:"Step 5: Configure SSH Keys"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"On your local machine (DSB Hub), generate an SSH key pair:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'ssh-keygen -t rsa -b 4096 -C "jenkins@dsb-hub.com"\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-plaintext",children:"Generating public/private rsa key pair.\r\nEnter file in which to save the key (/home/<your_username>/.ssh/id_rsa):\r\nEnter passphrase (empty for no passphrase):\r\nEnter same passphrase again:\r\nYour identification has been saved in /home/<your_username>/.ssh/id_rsa\r\nYour public key has been saved in /home/<your_username>/.ssh/id_rsa.pub\r\nThe key fingerprint is:\r\nSHA256:iIitv6/AYHsTTND7ooLJtG0M2NZrOWMer7E0E6hZ8XI jenkins@dsb-hub.com\r\nThe key's randomart image is:\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Copy the public key to your remote server:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ssh-copy-id <your_username>@dsb-node-01.local\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["In Jenkins, go to ",(0,r.jsx)(n.strong,{children:"Manage Jenkins"})," > ",(0,r.jsx)(n.strong,{children:"Credentials"})," > ",(0,r.jsx)(n.strong,{children:"System"})," > ",(0,r.jsx)(n.strong,{children:"Global Credentials (unrestricted)"}),". Select ",(0,r.jsx)(n.strong,{children:"Add Credentials"})," and choose ",(0,r.jsx)(n.strong,{children:"SSH Username with private key"}),"."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"SSH Credentials",src:s(5417).A+"",width:"1186",height:"912"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Fill out the form and hit ",(0,r.jsx)(n.strong,{children:"Create"})," to store your SSH credentials."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,r.jsx)(n.p,{children:"You've now successfully set up a Jenkins pipeline for the OWASP Juice Shop project with Gitea, SonarQube, and Docker integration. Your pipeline is configured to handle code quality checks, security scans, and deployments, ensuring that your application maintains a high standard throughout the development lifecycle."})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8944:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/jenkins-configure-gitea-pat-c183974c8f826d0c6c006c80eb2b3bf3.png"},9095:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/jenkins-organization-folder-b8ee97d173661784ae680d719a53ff50.png"},9920:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/jenkins-config-gitea-server-a992be0dc3e544edd54b1e7cfec43b12.png"}}]);