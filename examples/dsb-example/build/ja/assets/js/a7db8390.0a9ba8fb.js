"use strict";(self.webpackChunkdevsecblueprint=self.webpackChunkdevsecblueprint||[]).push([[4481],{5882:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"projects/devsecops-pipeline-azure/devsecops-pipeline-azure","title":"DevSecOps Pipeline - Azure","description":"Build a DevSecOps Pipeline within Azure!","source":"@site/docs/projects/devsecops-pipeline-azure/index.md","sourceDirName":"projects/devsecops-pipeline-azure","slug":"/projects/devsecops-pipeline-azure/","permalink":"/ja/projects/devsecops-pipeline-azure/","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"id":"devsecops-pipeline-azure","title":"DevSecOps Pipeline - Azure","description":"Build a DevSecOps Pipeline within Azure!","sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Clean Up","permalink":"/ja/projects/devsecops-pipeline-aws/cleanup"},"next":{"title":"Setting Up Dependencies","permalink":"/ja/category/setting-up-dependencies-1"}}');var t=n(4848),s=n(8453);const o={id:"devsecops-pipeline-azure",title:"DevSecOps Pipeline - Azure",description:"Build a DevSecOps Pipeline within Azure!",sidebar_position:3},l=void 0,a={},c=[{value:"Know Before You Go",id:"know-before-you-go",level:2},{value:"Prerequisities",id:"prerequisities",level:2},{value:"Overview",id:"overview",level:2},{value:"Architecture Diagram",id:"architecture-diagram",level:2},{value:"Architecture Breakdown",id:"architecture-breakdown",level:3},{value:"Flow Diagram",id:"flow-diagram",level:3},{value:"Flow Diagram Explained",id:"flow-diagram-explained",level:4},{value:"What You\u2019ll Learn",id:"what-youll-learn",level:2}];function d(e){const i={a:"a",em:"em",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i.p,{children:["Author(s): ",(0,t.jsx)(i.a,{href:"https://www.linkedin.com/in/timothy-hogue/",children:"Timothy Hogue"}),", ",(0,t.jsx)(i.a,{href:"https://damienjburks.com",children:"Damien Burks"})]}),"\n",(0,t.jsx)("p",{align:"center",children:(0,t.jsx)("img",{src:"/img/projects/devsecops-pipeline-azure/azure_logo.png",alt:"GitHub Actions Logo",width:"400"})}),"\n",(0,t.jsx)(i.h2,{id:"know-before-you-go",children:"Know Before You Go"}),"\n",(0,t.jsxs)(i.p,{children:["This project is a ",(0,t.jsx)(i.em,{children:"little"})," expense, and you will rack up a nice bill in Azure if you leave all your resources created. Therefore, I recommend that you ",(0,t.jsx)(i.strong,{children:"TEAR IT ALL DOWN"})," when you're done."]}),"\n",(0,t.jsx)(i.h2,{id:"prerequisities",children:"Prerequisities"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsx)(i.li,{children:"Before you begin this, you will want to have some knowledge of Azure services and how they work, as well as prior knowledge of Terraform."}),"\n",(0,t.jsxs)(i.li,{children:["You will also want to ensure that you have an Azure project created. You can go through the account creation process here: ",(0,t.jsx)(i.a,{href:"https://azure.microsoft.com/en-us/pricing/purchase-options/azure-account",children:"Azure Project Creation Process"})]}),"\n",(0,t.jsxs)(i.li,{children:["Make sure you have the following installed on your local machine:","\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://www.python.org/downloads/",children:"Python"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://git-scm.com/downloads",children:"Git"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://docs.docker.com/engine/install/",children:"Docker"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://developer.hashicorp.com/terraform/install",children:"Terraform CLI"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://learn.microsoft.com/en-us/cli/azure/install-azure-cli?view=azure-cli-latest",children:"Azure CLI"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsxs)(i.p,{children:["So you've decided to go down the path of building your own Cloud Native DevSecOps pipeline within Azure? If so, you've come to the right place! We are going to show you how to setup your own Azure pipeline using Terraform Cloud. Unlike the ",(0,t.jsx)(i.a,{href:"/ja/projects/devsecops-home-lab/",children:"DevSecOps Home Lab"}),", we're just focused on developing the pipeline and deploying our containerized application into the Azure Container Registry."]}),"\n",(0,t.jsx)(i.p,{children:"Luckily for you all, you won't need to do anything. we've taken the liberty of developing all of the code for you. These are the two GitHub repositories that you need to look at before we get started:"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["DevSecOps Pipeline Infrastructure: ",(0,t.jsx)(i.a,{href:"https://github.com/devsecblueprint/azure-devsecops-pipeline",children:"https://github.com/devsecblueprint/azure-devsecops-pipeline"})]}),"\n",(0,t.jsxs)(i.li,{children:["FastAPI Application with Pipeline Definition: ",(0,t.jsx)(i.a,{href:"https://github.com/devsecblueprint/azure-python-fastapi",children:"https://github.com/devsecblueprint/azure-python-fastapi"})]}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"architecture-diagram",children:"Architecture Diagram"}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"Architecture Diagram",src:n(9012).A+""})}),"\n",(0,t.jsx)(i.h3,{id:"architecture-breakdown",children:"Architecture Breakdown"}),"\n",(0,t.jsxs)(i.p,{children:["At a ",(0,t.jsx)(i.strong,{children:"VERY"})," high level, this architecture briefly covers the services that we will be leveraging for the DevSecOps Pipelines. Here are the descriptions with intent of each service:"]}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Azure DevOps"})," \u2013 Provides end-to-end CI/CD pipelines and project management tools to automate builds, tests, and deployments in the cloud."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Azure Container Registry"})," \u2013 A secure, private registry for storing and managing Docker container images used in your deployments."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Federated Identity / User Assigned Identity"})," \u2013 Enables workloads to authenticate securely to Azure resources without embedding secrets, by leveraging managed or federated identities."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Resource Group"})," \u2013 A logical container that organizes and manages related Azure resources as a single unit for easier governance and lifecycle management."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Azure Resource Manager Service Connection (AzureRM)"})," \u2013 Connects Azure DevOps pipelines to Azure subscriptions, enabling deployments and resource management through secure federated authentication."]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"flow-diagram",children:"Flow Diagram"}),"\n",(0,t.jsx)(i.p,{children:"Now that we've covered the architecture diagram, let's put this together so you can understand the flow and how everything is supposed to work."}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"Flow Diagram",src:n(8992).A+""})}),"\n",(0,t.jsx)(i.h4,{id:"flow-diagram-explained",children:"Flow Diagram Explained"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsx)(i.li,{children:"A developer writes code and commits the changes to GitHub. This action triggers the Azure DevOps pipeline."}),"\n",(0,t.jsx)(i.li,{children:"The Azure DevOps pipeline runs according to the stages defined in its YAML configuration file stored in GitHub. These stages include building, testing, scanning, and deploying the application"}),"\n",(0,t.jsx)(i.li,{children:"The Python application image is built. In addition, the source code is checked for any formatting and linting errors."}),"\n",(0,t.jsx)(i.li,{children:"The Python source code, dependencies and the containerized application will be scanned for any security vulnerabilities using ZAP by Checkmarx and Trivy."}),"\n",(0,t.jsx)(i.li,{children:"Upon successful completion of all pipeline stages, the containerized application is checked into Azure Container Registry."}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"what-youll-learn",children:"What You\u2019ll Learn"}),"\n",(0,t.jsx)(i.p,{children:"By working through this guide, you\u2019ll gain hands-on experience building and deploying a secure, cloud-native DevSecOps pipeline on Azure. Specifically, you will learn how to:"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsx)(i.li,{children:"Configure and manage Azure resources using Terraform Cloud."}),"\n",(0,t.jsx)(i.li,{children:"Integrate GitHub with Azure DevOps for version control and pipeline triggers."}),"\n",(0,t.jsx)(i.li,{children:"Use Azure DevOps to automate CI/CD processes, including build, test, and deployment stages."}),"\n",(0,t.jsx)(i.li,{children:"Perform security scans on code and dependencies using tools like Trivy and ZAP by Checkmarx."}),"\n",(0,t.jsx)(i.li,{children:"Deploy containerized application or image into Azure Container Registry."}),"\n"]}),"\n",(0,t.jsxs)(i.p,{children:["With all that being stated, ",(0,t.jsx)(i.strong,{children:"Please follow the order of the documents, otherwise you'll most likely run into errors and get lost."})]})]})}function h(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,i,n)=>{n.d(i,{R:()=>o,x:()=>l});var r=n(6540);const t={},s=r.createContext(t);function o(e){const i=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(s.Provider,{value:i},e.children)}},8992:(e,i,n)=>{n.d(i,{A:()=>r});const r=n.p+"assets/images/flow.drawio-43967e8e078ad8797a4600575c0976d6.svg"},9012:(e,i,n)=>{n.d(i,{A:()=>r});const r=n.p+"assets/images/architecture.drawio-6ecd59d6017df527578920e071aa0513.svg"}}]);