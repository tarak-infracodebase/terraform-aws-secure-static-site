"use strict";(self.webpackChunkdevsecblueprint=self.webpackChunkdevsecblueprint||[]).push([[5029],{1776:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/nexus-create-repository-502f7a78dcafa302b5dc79291fce5e94.png"},2583:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"projects/devsecops-home-lab/installation-and-configuration/install-config-nexus","title":"Nexus","description":"Overview","source":"@site/docs/projects/devsecops-home-lab/installation-and-configuration/nexus.md","sourceDirName":"projects/devsecops-home-lab/installation-and-configuration","slug":"/projects/devsecops-home-lab/installation-and-configuration/install-config-nexus","permalink":"/ja/projects/devsecops-home-lab/installation-and-configuration/install-config-nexus","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"id":"install-config-nexus","title":"Nexus","sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Jenkins","permalink":"/ja/projects/devsecops-home-lab/installation-and-configuration/install-config-jenkins"},"next":{"title":"Nginx Reverse Proxy","permalink":"/ja/projects/devsecops-home-lab/installation-and-configuration/config-app-proxy"}}');var o=s(4848),r=s(8453);const t={id:"install-config-nexus",title:"Nexus",sidebar_position:4},a=void 0,l={},c=[{value:"Overview",id:"overview",level:2},{value:"Installation Steps",id:"installation-steps",level:2},{value:"Configuration Steps",id:"configuration-steps",level:2},{value:"You&#39;re Done",id:"youre-done",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["This installation happens on the ",(0,o.jsx)(n.code,{children:"dsb-hub"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.a,{href:"https://www.sonatype.com/products/sonatype-nexus-oss",children:"Nexus Repository Manager"})," is a tool for managing components and build artifacts across various formats like Docker, Maven, and npm. We are using Docker Compose to install Nexus to avoid conflicts with SonarQube's JDK requirements. Nexus will be used to manage Docker images, allowing us to proxy images from Docker Hub, cache them locally, and securely manage retrieval."]}),"\n",(0,o.jsx)(n.h2,{id:"installation-steps",children:"Installation Steps"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Create a new directory for Nexus:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"mkdir -p apps/nexus/nexus-data\r\nsudo chown -R 200 apps/nexus/nexus-data\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Create the Docker Compose YAML file:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"cd apps/nexus\r\ntouch docker-compose.yml\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsxs)(n.strong,{children:["Add the following content to the ",(0,o.jsx)(n.code,{children:"docker-compose.yml"}),":"]})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:'version: "3"\r\nservices:\r\n  nexus:\r\n    image: sonatype/nexus3\r\n    restart: always\r\n    volumes:\r\n      - "./nexus-data:/nexus-data"\r\n    ports:\r\n      - "8081:8081"\r\n      - "8082:8082"\r\n      - "8085:8085"\r\nvolumes:\r\n  nexus-data:\r\n    driver: local\n'})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Run the application:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"docker compose up -d\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Confirm that the application is up and running by visiting:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-text",children:"http://your-ip-address:8081\n"})}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Nexus is live",src:s(4871).A+"",width:"2782",height:"1220"})}),"\n",(0,o.jsx)(n.h2,{id:"configuration-steps",children:"Configuration Steps"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:'Click the "Sign In" button and locate the admin password:'})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"cat nexus-data/admin.password\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Admin Password",src:s(8025).A+"",width:"666",height:"320"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Use the password to log in and complete the initial setup:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Change your password."}),"\n",(0,o.jsx)(n.li,{children:"Enable anonymous access if desired."}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Login",src:s(6825).A+"",width:"772",height:"676"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"As admin, navigate to the UI and create a new repository:"}),"\r\n",(0,o.jsx)(n.img,{alt:"Create Repository",src:s(1776).A+"",width:"1208",height:"810"})]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:'For the new repository, choose "Docker proxy" and input the following information:'})}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["Name: ",(0,o.jsx)(n.code,{children:"docker-proxy"})]}),"\n",(0,o.jsxs)(n.li,{children:["Remote Storage Proxy URL: ",(0,o.jsx)(n.code,{children:"https://registry.hub.docker.com"})]}),"\n",(0,o.jsxs)(n.li,{children:["Docker Index: ",(0,o.jsx)(n.code,{children:"Docker Hub"})]}),"\n",(0,o.jsx)(n.li,{children:"Enable anonymous pulls."}),"\n",(0,o.jsxs)(n.li,{children:["Set HTTP to ",(0,o.jsx)(n.code,{children:"8082"}),"."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsxs)(n.strong,{children:["Create a local user with the username ",(0,o.jsx)(n.code,{children:"nx-anonymous"})," and complete the setup:"]})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Create User",src:s(3849).A+"",width:"2514",height:"1386"})}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"youre-done",children:"You're Done"}),"\n",(0,o.jsx)(n.p,{children:"You've successfully set up your Nexus server."})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},3849:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/nexus-create-user-aa1217cad0fd6d24783638e319573c49.png"},4871:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/nexus-initial-view-e39cd6790fe1d3312ae6950fac1e0196.png"},6825:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/nexus-change-admin-pw-c331ad97114c7935eff516480c75b423.png"},8025:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/nexus-found-admin-pw-0f1f95fe18c9bc6039917231616925da.png"},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>a});var i=s(6540);const o={},r=i.createContext(o);function t(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);