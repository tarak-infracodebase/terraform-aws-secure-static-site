"use strict";(self.webpackChunkdevsecblueprint=self.webpackChunkdevsecblueprint||[]).push([[3100],{2880:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/flow.drawio-f0cde083ee2fdc6975755398b83e166d.svg"},6538:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>a,contentTitle:()=>l,default:()=>d,frontMatter:()=>o,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"projects/devsecops-pipeline-gha/devsecops-pipeline-gha","title":"DevSecOps Pipeline - GitHub Actions","description":"Build a DevSecOps Pipeline using GitHub Actions!","source":"@site/docs/projects/devsecops-pipeline-gha/index.md","sourceDirName":"projects/devsecops-pipeline-gha","slug":"/projects/devsecops-pipeline-gha/","permalink":"/it/projects/devsecops-pipeline-gha/","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"id":"devsecops-pipeline-gha","title":"DevSecOps Pipeline - GitHub Actions","description":"Build a DevSecOps Pipeline using GitHub Actions!","sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Running the Pipeline and Analyzing Outputs","permalink":"/it/projects/devsecops-pipeline-gcp/deployment-and-testing/executing-pipeline"},"next":{"title":"Setting Up Dependencies","permalink":"/it/category/setting-up-dependencies-3"}}');var s=n(4848),r=n(8453);const o={id:"devsecops-pipeline-gha",title:"DevSecOps Pipeline - GitHub Actions",description:"Build a DevSecOps Pipeline using GitHub Actions!",sidebar_position:3},l=void 0,a={},c=[{value:"Prerequisities",id:"prerequisities",level:2},{value:"Overview",id:"overview",level:2},{value:"Architecture Diagram",id:"architecture-diagram",level:2},{value:"Architecture Breakdown",id:"architecture-breakdown",level:3},{value:"Flow Diagram",id:"flow-diagram",level:3},{value:"Flow Diagram Explained",id:"flow-diagram-explained",level:4},{value:"What You\u2019ll Learn",id:"what-youll-learn",level:2}];function h(e){const i={a:"a",em:"em",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i.p,{children:["Author(s): ",(0,s.jsx)(i.a,{href:"https://www.linkedin.com/in/timothy-hogue-2b2722230/",children:"Timothy Hogue"}),", ",(0,s.jsx)(i.a,{href:"https://damienjburks.com",children:"Damien Burks"})]}),"\n",(0,s.jsx)("p",{align:"center",children:(0,s.jsx)("img",{src:"/img/projects/devsecops-pipeline-gha/gha_logo.svg",alt:"GitHub Actions Logo",width:"400"})}),"\n",(0,s.jsx)(i.h2,{id:"prerequisities",children:"Prerequisities"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsx)(i.li,{children:"Before you begin this, you will want to have some knowledge of Terraform."}),"\n",(0,s.jsxs)(i.li,{children:["You will also want to ensure that you have an GitHub account created. If you don't have a GitHub account created, you can follow the documentation here: ",(0,s.jsx)(i.a,{href:"https://docs.github.com/en/get-started/start-your-journey/creating-an-account-on-github",children:"Creating A GitHub Account"})]}),"\n",(0,s.jsxs)(i.li,{children:["Make sure you have the following installed on your local machine:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://www.python.org/downloads/",children:"Python"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://git-scm.com/downloads",children:"Git"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://docs.docker.com/engine/install/",children:"Docker"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(i.p,{children:"So you've decided to go down the path of building a DevSecOps pipeline within GitHub? If so, you've come to the right place! We are going to show you how to build your own DevSecOps pipeline using GitHub Actions. Unlike the any of the other pipelines, we are not going to build and our own infrastructure. We are going to leverage the infrastructure that GitHub has that their Actions rely on."}),"\n",(0,s.jsxs)(i.p,{children:["Luckily for you all, you won't need to do anything. we've taken the liberty of developing all of the code for you. These are the ",(0,s.jsx)(i.em,{children:"one"})," GitHub repositories that you need to look at before we get started:"]}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["DevSecOps Pipeline Infrastructure (Python FastAPI): ",(0,s.jsx)(i.a,{href:"https://github.com/devsecblueprint/python-fastapi/.github/workflows",children:"https://github.com/devsecblueprint/python-fastapi/.github/workflows"})]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"architecture-diagram",children:"Architecture Diagram"}),"\n",(0,s.jsx)("p",{align:"center",children:(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"Architecture Diagram",src:n(7059).A+""})})}),"\n",(0,s.jsx)(i.h3,{id:"architecture-breakdown",children:"Architecture Breakdown"}),"\n",(0,s.jsxs)(i.p,{children:["At a ",(0,s.jsx)(i.strong,{children:"VERY"})," high level, this architecture briefly covers the services that we will be leveraging for the DevSecOps Pipelines. Here are the descriptions with intent of each service:"]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"GitHub"}),": Acts as the central version control system and CI/CD trigger point. Engineers push changes and raise pull requests here, which kick off the pipeline."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"GitHub Actions"}),": Orchestrates all automation in the pipeline. It handles build, test, static/dynamic scanning, and image publishing workflows."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"SonarCloud"}),": Performs Static Application Security Testing (SAST) on the codebase for quality issues and security vulnerabilities before merging."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Trivy"}),": Scans the Docker image and dependencies for known vulnerabilities (CVEs) during the build process."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"ZAP by Checkmarx"}),": Executes Dynamic Application Security Testing (DAST) against the running container to catch runtime vulnerabilities such as XSS, injection flaws, and misconfigurations."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Docker"}),": Serves as the containerization platform for building and packaging the application, which is used both for testing and deployment."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"GitHub Container Registry (GHCR)"}),": Stores the final, security-validated Docker image that can be pulled into downstream environments."]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"flow-diagram",children:"Flow Diagram"}),"\n",(0,s.jsx)(i.p,{children:"Now that we've covered the architecture diagram, let's put this together so you can understand the flow and who everything is supposed to work."}),"\n",(0,s.jsx)("p",{align:"center",children:(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"Flow Diagram",src:n(2880).A+""})})}),"\n",(0,s.jsx)(i.h4,{id:"flow-diagram-explained",children:"Flow Diagram Explained"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsx)(i.li,{children:"An engineer pushes their changes to the repository and opens a Pull Request (PR)."}),"\n",(0,s.jsx)(i.li,{children:"Once the PR is created, SonarCloud automatically scans the codebase for bugs, code smells, and security vulnerabilities. If any critical issues are detected, the PR check will fail."}),"\n",(0,s.jsx)(i.li,{children:"In parallel, GitHub Actions is triggered to build the project or Docker image."}),"\n",(0,s.jsx)(i.li,{children:"Unit tests are executed to validate the functionality of the changes."}),"\n",(0,s.jsxs)(i.li,{children:["Upon successful completion of unit tests:","\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsx)(i.li,{children:"An ZAP by Checkmarx scan runs against the running Docker container to detect common web application vulnerabilities."}),"\n",(0,s.jsx)(i.li,{children:"A Trivy scan is also performed to identify vulnerabilities in dependencies and the container image."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.li,{children:"If all checks pass, a reviewer merges the PR. This triggers the pipeline to run again for the main branch, and the final, verified Docker image is published to GitHub Container Registry."}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"what-youll-learn",children:"What You\u2019ll Learn"}),"\n",(0,s.jsx)(i.p,{children:"By working through this guide, you\u2019ll gain hands-on experience building and deploying a secure DevSecOps pipeline using GitHub Actions. Specifically, you will learn how to:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Build a secure DevSecOps pipeline using GitHub Actions"}),"\n",(0,s.jsx)(i.li,{children:"Automate builds, tests, and security scans in pull request workflows"}),"\n",(0,s.jsx)(i.li,{children:"Run SAST with SonarCloud"}),"\n",(0,s.jsx)(i.li,{children:"Scan containers and dependencies using Trivy"}),"\n",(0,s.jsx)(i.li,{children:"Perform DAST with ZAP by Checkmarx"}),"\n",(0,s.jsx)(i.li,{children:"Package applications with Docker and publishing to GHCR"}),"\n",(0,s.jsx)(i.li,{children:"Enforce security gates before merging code"}),"\n",(0,s.jsx)(i.li,{children:"Leverage GitHub\u2019s hosted infrastructure for CI/CD"}),"\n"]}),"\n",(0,s.jsxs)(i.p,{children:["With all that being stated, ",(0,s.jsx)(i.strong,{children:"Please follow the order of the documents, otherwise you'll most likely run into errors and get lost."})]})]})}function d(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},7059:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/architecture.drawio-2474084751b43523b5dfacbf641aa350.svg"},8453:(e,i,n)=>{n.d(i,{R:()=>o,x:()=>l});var t=n(6540);const s={},r=t.createContext(s);function o(e){const i=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(r.Provider,{value:i},e.children)}}}]);