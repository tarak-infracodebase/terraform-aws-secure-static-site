"use strict";(self.webpackChunkdevsecblueprint=self.webpackChunkdevsecblueprint||[]).push([[406],{6611:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"projects/devsecops-home-lab/installation-and-configuration/security-tools/install-config-trivy","title":"Trivy","description":"Overview","source":"@site/docs/projects/devsecops-home-lab/installation-and-configuration/security-tools/trivy.md","sourceDirName":"projects/devsecops-home-lab/installation-and-configuration/security-tools","slug":"/projects/devsecops-home-lab/installation-and-configuration/security-tools/install-config-trivy","permalink":"/pt-PT/projects/devsecops-home-lab/installation-and-configuration/security-tools/install-config-trivy","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"id":"install-config-trivy","title":"Trivy","sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"SonarQube","permalink":"/pt-PT/projects/devsecops-home-lab/installation-and-configuration/security-tools/install-config-sonarqube"},"next":{"title":"Monitoring Tools","permalink":"/pt-PT/category/monitoring-tools"}}');var t=i(4848),s=i(8453);const o={id:"install-config-trivy",title:"Trivy",sidebar_position:4},a=void 0,l={},c=[{value:"Overview",id:"overview",level:2},{value:"Installation Steps",id:"installation-steps",level:2},{value:"You&#39;re Done",id:"youre-done",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["This installation happens on the ",(0,t.jsx)(n.code,{children:"dsb-hub"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["According to ",(0,t.jsx)(n.a,{href:"https://github.com/aquasecurity/trivy",children:"Trivy's GitHub Repository"}),", Trivy is a comprehensive, easy-to-use open-source vulnerability scanner. It detects vulnerabilities in OS packages, container images, file systems, and Git repositories. Additionally, Trivy can identify configuration issues and hard-coded secrets, making it an essential tool for DevSecOps practices. This guide will walk you through the steps to install and configure Trivy on your system."]}),"\n",(0,t.jsx)(n.h2,{id:"installation-steps",children:"Installation Steps"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Configure and Install Package"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Install required packages and add the Trivy repository key:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo apt-get install wget apt-transport-https gnupg\r\nwget -qO - https://aquasecurity.github.io/trivy-repo/deb/public.key | gpg --dearmor | sudo tee /usr/share/keyrings/trivy.gpg > /dev/null\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Add the Trivy repository to your sources list:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'echo "deb [signed-by=/usr/share/keyrings/trivy.gpg] https://aquasecurity.github.io/trivy-repo/deb generic main" | sudo tee -a /etc/apt/sources.list.d/trivy.list\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Update your package list and install Trivy:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo apt-get update\r\nsudo apt-get install trivy\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Check if Trivy is Installed Successfully"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Verify that Trivy is installed and running correctly by running the ",(0,t.jsx)(n.code,{children:"trivy"})," command:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"trivy\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"You should see output similar to the following, which confirms that Trivy is installed and provides usage instructions:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:'Scanner for vulnerabilities in container images, file systems, and Git repositories, as well as for configuration issues and hard-coded secrets\r\n\r\nUsage:\r\n  trivy [global flags] command [flags] target\r\n  trivy [command]\r\n\r\nExamples:\r\n  # Scan a container image\r\n  $ trivy image python:3.4-alpine\r\n\r\n  # Scan a container image from a tar archive\r\n  $ trivy image --input ruby-3.1.tar\r\n\r\n  # Scan local filesystem\r\n  $ trivy fs .\r\n\r\n  # Run in server mode\r\n  $ trivy server\r\n\r\nScanning Commands:\r\n  config      Scan config files for misconfigurations\r\n  filesystem  Scan local filesystem\r\n  image       Scan a container image\r\n  kubernetes  [EXPERIMENTAL] Scan kubernetes cluster\r\n  repository  Scan a repository\r\n  rootfs      Scan rootfs\r\n  sbom        Scan SBOM for vulnerabilities and licenses\r\n  vm          [EXPERIMENTAL] Scan a virtual machine image\r\n\r\nManagement Commands:\r\n  module      Manage modules\r\n  plugin      Manage plugins\r\n  vex         [EXPERIMENTAL] VEX utilities\r\n\r\nUtility Commands:\r\n  clean       Remove cached files\r\n  completion  Generate the autocompletion script for the specified shell\r\n  convert     Convert Trivy JSON report into a different format\r\n  help        Help about any command\r\n  server      Server mode\r\n  version     Print the version\r\n\r\nFlags:\r\n      --cache-dir string          cache directory (default "/home/damien/.cache/trivy")\r\n  -c, --config string             config path (default "trivy.yaml")\r\n  -d, --debug                     debug mode\r\n  -f, --format string             version format (json)\r\n      --generate-default-config   write the default config to trivy-default.yaml\r\n  -h, --help                      help for trivy\r\n      --insecure                  allow insecure server connections\r\n  -q, --quiet                     suppress progress bar and log output\r\n      --timeout duration          timeout (default 5m0s)\r\n  -v, --version                   show version\n'})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"youre-done",children:"You're Done"}),"\n",(0,t.jsx)(n.p,{children:"Trivy is now installed and ready to be used for scanning vulnerabilities in container images, file systems, and more. With Trivy, you can ensure that your applications are secure and free from known vulnerabilities before deploying them to production."})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>a});var r=i(6540);const t={},s=r.createContext(t);function o(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);